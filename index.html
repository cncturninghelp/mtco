<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MTCO — Measure Twice, Cut Once</title>
  <meta name="description" content="Unified offline tools — Fanuc lathe convention (G18, Z0 at right face, work Z−)."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <defs>
      <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
        <stop stop-color="#ffb86b" offset="0"/>
        <stop stop-color="#ff7a1a" offset="1"/>
      </linearGradient>
    </defs>
    <rect x="12" y="12" width="40" height="40" rx="8" ry="8" fill="url(#g)" stroke="#111316" stroke-width="2"/>
  </svg>'>
  <style>
    :root{
      --bg:#0f1420; --surface:#151a23; --border:#273142; --text:#e8eaee; --muted:#9aa3af;
      --accent:#ff7a1a; --accent-ink:#111316; --radius:16px;
      --fs-hero: clamp(26px, 3.8vw, 34px);
      --fs-body: 15px; --lh: 1.5; --maxw: 1180px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; background:var(--bg); color:var(--text);
      font:600 var(--fs-body)/var(--lh) Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial; }
    a{color:inherit; text-decoration:none}

    header{ position:sticky; top:0; z-index:20; backdrop-filter:saturate(120%) blur(8px);
      background:linear-gradient(180deg, rgba(19,24,32,.88), rgba(17,21,28,.86)); border-bottom:1px solid var(--border); }
    .wrap{ max-width:var(--maxw); margin:0 auto; padding:10px 16px }
    .row{ display:flex; align-items:center; justify-content:space-between; gap:14px }
    .brand{ display:flex; align-items:center; gap:14px }
    .logo{ width:42px; height:42px; border-radius:12px;
      background: conic-gradient(from 210deg, #ffb86b, var(--accent) 45%, #ffb86b 75%, var(--accent) 100%);
      box-shadow:0 6px 26px rgba(255,122,26,.32) }
    .wordmark{ display:flex; flex-direction:column }
    .title{ font-weight:900; letter-spacing:.2px; font-size:var(--fs-hero) }
    .subtitle{ color:var(--muted); font-weight:600; font-size:13px; margin-top:2px }

    .tabs{ display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; padding:10px 0 12px }
    .tab{ background:transparent; border:1px solid var(--border); color:var(--text);
      padding:7px 12px; border-radius:999px; cursor:pointer; white-space:nowrap;
      transition:.2s ease background, .2s ease color, .2s ease border-color; }
    .tab:hover{ border-color:#324055 }
    .tab.active{ background:var(--accent); color:var(--accent-ink); border-color:transparent }

    main{ height:calc(100% - 120px) }
    .content{ max-width:var(--maxw); margin:0 auto; padding:14px 16px; height:100% }
    .card{ display:flex; flex-direction:column; height:100%; background:var(--surface);
      border:1px solid var(--border); border-radius:var(--radius); overflow:hidden }
    .frame{ flex:1; border:0; background:#0c1117 }
    .foot{ border-top:1px solid var(--border); color:var(--muted); font-size:12px; padding:10px 12px }
    .openlink{ display:inline-flex; align-items:center; gap:6px; border:1px solid var(--border); padding:7px 10px; border-radius:10px }
    .notice{ display:none; color:#f8d7da; background:#2a1518; border:1px solid #5a1f26; padding:10px; margin:10px 0; border-radius:10px; }
    .notice.show{ display:block }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="row">
        <div class="brand">
          <div class="logo" aria-hidden="true" title="MTCO"></div>
          <div class="wordmark">
            <div class="title">MTCO — Measure Twice, Cut Once</div>
            <div class="subtitle">Fanuc turning tools • shop math • learning packs</div>
          </div>
        </div>
        <a id="openExternal" class="openlink" href="#" target="_blank" rel="noopener">Open standalone</a>
      </div>
      <div class="tabs" role="tablist" aria-label="Sections">
        <button class="tab active" data-key="code" aria-selected="true">Code Builder</button>
        <button class="tab" data-key="threads">Threads</button>
        <button class="tab" data-key="preview">Toolpath Preview</button>
        <button class="tab" data-key="planner">Job Planner</button>
        <button class="tab" data-key="feeds">Feeds &amp; Speeds</button>
        <button class="tab" data-key="trig">Turning Trig</button>
        <button class="tab" data-key="gallery">Gallery</button>
        <button class="tab" data-key="quizzes">Quizzes</button>
      </div>
    </div>
  </header>

  <main>
    <div class="content">
      <div class="card">
        <div id="notice" class="notice"></div>
        <iframe id="frame" class="frame" title="MTCO content" loading="lazy"></iframe>
        <div class="foot">Tip: “Open standalone” opens the current tool in a new tab.</div>
      </div>
    </div>
  </main>

  <script>
    const PAGES = {
      code:    { href: "fc_code_builder_trial_v1_6_orange.html" },
      threads: { href: "mtco_thread_data_wizard_v1.html" },
      preview: { href: "mtco_toolpath_preview_trial_v3i_lathe.html" },
      planner: { href: "mtco_job_planner_v1.html" },
      feeds:   { href: "Feeds_Speeds_MTCO_v1.html" },
      trig:    { href: "Turning_Trig_Utility_MTCO_v1.html" },
      gallery: { href: "mtco_gallery_trial_v1_fixed_SEEDED_fixB.html" },
      quizzes: { href: "quiz.html" }
    };

    const frame = document.getElementById('frame');
    const openExternal = document.getElementById('openExternal');
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const notice = document.getElementById('notice');
    let currentKey = 'code'; // default: open into Code Builder

    function setActive(key){
      currentKey = key;
      tabs.forEach(t => t.classList.toggle('active', t.dataset.key === key));
      const cfg = PAGES[key];
      if(!cfg || !cfg.href){
        openExternal.href = '#';
        frame.srcdoc = '<div style="color:#9aa3af;padding:24px">Select a tool tab.</div>';
        return;
      }
      openExternal.href = cfg.href;
      try{
        frame.src = cfg.href;
        if(key === 'quizzes' && location.protocol === 'file:'){
          showNotice('Quizzes need a local server. In this folder run <code>python -m http.server 8000</code> then open <code>http://localhost:8000/index_bold_header_logo.html</code>.');
        }else{
          hideNotice();
        }
      }catch(e){
        showNotice('Could not load this tool here. Try the “Open standalone” button.');
      }
    }

    function showNotice(msg){ notice.innerHTML = msg; notice.classList.add('show'); }
    function hideNotice(){ notice.classList.remove('show'); notice.innerHTML=''; }

    tabs.forEach(t => t.addEventListener('click', () => setActive(t.dataset.key)));
    setActive(currentKey);
  </script>
</body>
</html>
