<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>G/M code trainer — MTCO</title>
<style>
:root{--bg:#0f1215;--panel:#171b21;--panel2:#101418;--border:#2a3037;--text:#e6e8eb;--muted:#a7aeb6;--accent:#ff7a1a;}
html,body{margin:0;background:var(--bg);color:var(--text);}
.page{max-width:1024px;margin:48px auto;padding:0 16px;}
h1.title{font:800 28px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;margin:4px 0 6px;}
.sub{color:var(--muted);margin:0 0 16px;}
.toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:10px 0 16px;}
.chip,.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:#161a1f;color:var(--text);font-weight:700;font-size:12px;cursor:pointer;user-select:none;}
.chip.is-on{background:#12161b;border-color:#34404b;box-shadow:0 0 0 1px rgba(255,122,26,.18) inset;}
.input{padding:8px 12px;border-radius:10px;border:1px solid var(--border);background:var(--panel2);color:var(--text);font-weight:600;font-size:13px;min-width:220px;outline:none;}
.count{color:var(--muted);font-size:12px;padding-left:6px;}
.table{width:100%;border-collapse:separate;border-spacing:8px;}
th,td{background:var(--panel);border:1px solid var(--border);padding:10px 12px;border-radius:12px;vertical-align:top;}
th{background:#13181d;color:var(--muted);font-weight:800;text-transform:uppercase;letter-spacing:.04em;font-size:12px;}
.code{font:700 14px/1.2 ui-monospace, SFMono-Regular, Menlo, Consolas, 'Liberation Mono','Courier New', monospace;}
.mean{font:600 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;position:relative;overflow:hidden;}
.note{color:var(--muted);font-size:12px;margin-top:4px;}
.cover{position:absolute;inset:0;background:linear-gradient(180deg,#0f141a 0%,#0e1318 100%);border-radius:12px;border:1px dashed #2a3037;display:none;align-items:center;justify-content:center;color:#8a949f;font-weight:800;letter-spacing:.02em;text-transform:uppercase;opacity:.94}
.mean.masked .cover{display:flex;}
.mean.revealed .cover{display:none !important;}
.actions{display:flex;gap:8px;margin:12px 0 6px;}
@media (max-width:760px){
  .table{border-spacing:6px;}
  th,td{padding:8px 10px;}
}
</style>
</head>
<body>
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MTCO — Measure Twice, Cut Once</title>
  <meta name="description" content="Practical CNC turning calculators & learning tools — offline‑friendly, free, and fast." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cpath fill='%23ff7a1a' d='M8 48h48v6H8zM12 10h40v6H12zM18 22h28v18H18z'/%3E%3C/svg%3E">
  <style>
    :root{
      --bg:#0f1215; --panel:#161a1f; --card:#171b21; --border:#2a3037; --text:#e6e8eb; --muted:#9aa1a9; --accent:#ff7a1a;
      --ok:#48c78e; --warn:#ffb02e; --danger:#ff6464; --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:24px}
    /* Header */
    header{position:sticky;top:0;background:linear-gradient(0deg,rgba(15,18,21,.6),rgba(15,18,21,.95));backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--border);z-index:50}
    .row{display:flex;align-items:center;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:34px;height:34px;border-radius:10px;background:radial-gradient(circle at 30% 30%, #ff9d57 0 35%, #ff7a1a 36% 70%, #c35200 71% 100%);box-shadow:inset 0 0 0 2px rgba(255,255,255,.08)}
    .title{font-weight:800;letter-spacing:.3px}
    nav{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap}
    .chip{padding:10px 14px;border:1px solid var(--border);border-radius:999px;background:var(--card);cursor:pointer}
    .chip:hover{border-color:#3a424b}
    .cta{background:var(--accent);color:#1b0f07;border:none}
    /* Hero */
    .hero{padding:72px 0 36px;display:grid;grid-template-columns:1.15fr .85fr;gap:28px}
    .h1{font-size:40px;line-height:1.1;margin:0 0 12px}
    .sub{color:var(--muted);font-size:18px}
    .badges{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;border:1px solid var(--border);background:var(--panel);font-size:14px}
    .panel{background:linear-gradient(180deg,rgba(255,122,26,.08),transparent 55%);border:1px solid var(--border);border-radius:var(--radius);padding:22px;box-shadow:var(--shadow)}
    .hero-visual{display:grid;gap:14px}
    .kv{height:220px;border-radius:var(--radius);border:1px dashed #3a424b;display:grid;place-items:center;background:linear-gradient(145deg,#12161b,#0c0f12)}
    .kv small{color:var(--muted)}
    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:26px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px;display:flex;flex-direction:column;gap:10px;box-shadow:0 2px 0 rgba(255,122,26,.1) inset}
    .card h3{margin:0;font-size:18px}
    .card p{margin:0;color:var(--muted);font-size:14px}
    .card .actions{margin-top:auto;display:flex;gap:10px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:var(--panel);font-weight:600}
    .btn:hover{border-color:#3a424b}
    .btn.primary{background:var(--accent);color:#1b0f07;border-color:#c85f00}
    /* Footer */
    footer{margin-top:48px;padding:28px 0;border-top:1px solid var(--border);color:#a9b0b8}
    .footer-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .muted{color:var(--muted)}
    .note{font-size:13px;color:var(--muted)}
    /* Responsive */
    @media (max-width: 960px){
      .hero{grid-template-columns:1fr}
      nav{display:none}
    }
    @media (max-width: 760px){
      .h1{font-size:32px}
      .grid{grid-template-columns:1fr}
    }
  </style>
<style>
/* === MTCO Unified Header === */
:root {
  --mtco-bg: #0f1215;
  --mtco-panel: #161a1f;
  --mtco-border: #2a3037;
  --mtco-text: #e6e8eb;
  --mtco-muted: #a7aeb6;
  --mtco-accent: #ff7a1a;
}
.mtco-header { position: sticky; top: 0; z-index: 1200; background: linear-gradient(0deg, rgba(15,18,21,.65), rgba(15,18,21,.95)); backdrop-filter: saturate(1.2) blur(8px); border-bottom: 1px solid var(--mtco-border, #2a3037); }
.mtco-hwrap { max-width: 1220px; margin: 0 auto; padding: 12px 24px; display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
.mtco-logo { width: 26px; height: 26px; border-radius: 8px; background: radial-gradient(circle at 30% 30%, #ff9d57 0 35%, #ff7a1a 36% 70%, #c35200 71% 100%); box-shadow: inset 0 0 0 1px rgba(255,255,255,.08); }
.mtco-brand { display: flex; flex-direction: column; line-height: 1; }
.mtco-title { font-weight: 900; letter-spacing: .3px; color: var(--mtco-text, #e6e8eb); font-size: 18px; font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
.mtco-title em { font-style: normal; opacity: .95; }
.mtco-sub { font-size: 12px; color: var(--mtco-muted, #a7aeb6); margin-top: 3px; font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
.mtco-spacer { flex: 1; }
.mtco-chip { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 999px; border: 1px solid var(--mtco-border, #2a3037); background: var(--mtco-panel, #161a1f); color: var(--mtco-text, #e6e8eb); text-decoration: none; font-weight: 700; font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
.mtco-chip:hover { border-color: #3a424b; }
.mtco-chip.disabled { opacity: .55; cursor: not-allowed; pointer-events: none; }
@media (max-width: 960px) { .mtco-sub { display: none; } }
</style>
<style>
/* === MTCO Header WidthLock (exact match across pages) === */
.mtco-header { padding: 0 !important; } /* kill any generic header padding */
.mtco-hwrap {
  width: 100% !important;
  max-width: 1200px !important; /* lock to site standard */
  margin: 0 auto !important;
  padding: 12px 24px !important;
  box-sizing: border-box !important; /* consistent regardless of page defaults */
}
</style>
</head>
<body>

<header class="mtco-header" role="banner">
  <div class="mtco-hwrap">
    <a class="mtco-logo" href="index.html" aria-label="MTCO Home"></a>
    <div class="mtco-brand">
      <span class="mtco-title">MTCO | <em>Home</em></span>
      <span class="mtco-sub">Measure Twice, Cut Once</span>
    </div>
    <div class="mtco-spacer"></div>
    <a class="mtco-chip" href="fc_code_builder_trial_v1_6_orange.html">Code Builder</a>
    <a class="mtco-chip" href="mtco_thread_data_wizard_v1.html">Threads</a>
    <a class="mtco-chip" href="mtco_toolpath_preview_trial_v3i_lathe.html">Toolpath Preview</a>
    <a class="mtco-chip" href="mtco_job_planner_v1.html">Job Planner</a>
    <a class="mtco-chip" href="Turning_Trig_Utility_MTCO_v1.html">Turning Trig</a>
    <a class="mtco-chip" href="Feeds_Speeds_MTCO_v1.html">Feeds &amp; Speeds</a>
    <a class="mtco-chip" href="quiz.html">Quizzes</a>
    <a class="mtco-chip" href="mtco_gallery_trial_v1_fixed_SEEDED_fixB.html">Gallery</a>
  </div>
</header>
<main class="page">
  <h1 class="title">G/M code trainer</h1>
  <p class="sub">Practice common lathe G- and M-codes. Hide the meanings column, reveal one cell at a time, or search & filter.</p>

  <div class="toolbar">
    <span class="chip is-on" id="filterAll">All</span>
    <span class="chip" id="filterG">G-codes</span>
    <span class="chip" id="filterM">M-codes</span>
    <input class="input" id="search" placeholder="Search: g71, coolant, thread…" />
    <span class="chip is-on" id="maskMean">Hide meanings</span>
    <span class="chip" id="revealNext">Reveal next</span>
    <span class="chip" id="revealAll">Reveal all</span>
    <span class="chip" id="reset">Reset</span>
    <span class="count" id="count"></span>
  </div>

  <table class="table" id="gmTable" aria-live="polite">
    <thead>
      <tr><th style="width:160px">Code</th><th>Meaning</th></tr>
    </thead>
    <tbody id="tbody">
      <!-- rows injected -->
    </tbody>
  </table>

  <div class="actions">
    <span class="chip" id="shuffle">Shuffle order</span>
  </div>

  <p class="sub">Codes can vary by control/options. This trainer follows typical FANUC/Doosan behaviour.</p>
</main>

<script>
const DATA = [["G00", "Rapid traverse", "Position fast between cuts; no feedrate."], ["G01", "Linear feed", "Straight cut using F feedrate (mm/rev)."], ["G02", "Arc clockwise (G18)", "Clockwise arc in ZX plane; use R or I/K."], ["G03", "Arc counter-clockwise (G18)", "CCW arc in ZX plane; use R or I/K."], ["G18", "ZX plane (turning)", "Lathe plane; standard for OD/ID work."], ["G20", "Units = inch", "Sets inch mode."], ["G21", "Units = mm", "Sets metric mode."], ["G28", "Reference return", "Send axes to machine reference (via intermediate point)."], ["G40", "Cancel cutter comp", "Turns off tool nose radius compensation."], ["G50", "Spindle speed limit", "Caps RPM to protect setup; e.g., G50 S2500."], ["G54", "Work offset 1", "Active work coordinate system."], ["G96", "Constant surface speed (CSS)", "Sets m/min; spindle varies with diameter."], ["G97", "Fixed RPM mode", "Sets direct spindle RPM."], ["G99", "Feed per revolution", "Lathe-standard feed mode (mm/rev)."], ["G71", "OD/ID roughing cycle", "Two-block roughing with P/Q and stock U/W."], ["G72", "Facing rough cycle", "Roughing cycle for faces/steps in Z."], ["G70", "Finishing cycle", "Call to finish the P/Q profile."], ["G76", "Threading cycle (2-block)", "Fanuc two-block threading; P/Q controls depth/min cut."], ["M00", "Program stop", "Stops until cycle start pressed."], ["M01", "Optional stop", "Stops if optional stop is ON."], ["M03", "Spindle CW", "Clockwise spindle rotation."], ["M04", "Spindle CCW", "Counter-clockwise spindle rotation."], ["M05", "Spindle stop", "Stops spindle."], ["M08", "Coolant ON", "Turns coolant on."], ["M09", "Coolant OFF", "Turns coolant off."], ["M30", "End & rewind", "Program end; resets to start."]].slice(); // [code, name, note]
let filterType = 'all'; // all|g|m
let searchTerm = '';
let maskMean = true;

const tbody = document.getElementById('tbody');
const countEl = document.getElementById('count');

function matches(row){
  const code = row[0], name = row[1], note = row[2]||'';
  if(filterType==='g' && code[0] !== 'G') return false;
  if(filterType==='m' && code[0] !== 'M') return false;
  if(searchTerm){
    const s = (code + ' ' + name + ' ' + note).toLowerCase();
    if(!s.includes(searchTerm)) return false;
  }
  return true;
}

function buildRow(row){
  const code = row[0], name = row[1], note = row[2]||'';
  const tr = document.createElement('tr');
  const tdCode = document.createElement('td'); tdCode.className='code'; tdCode.textContent = code;
  const tdMean = document.createElement('td'); tdMean.className='mean';
  tdMean.innerHTML = '<div>'+name+'</div>' + (note ? '<div class="note">'+note+'</div>' : '');
  const cover = document.createElement('div'); cover.className='cover'; cover.textContent='MEANING'; tdMean.appendChild(cover);
  if(maskMean) tdMean.classList.add('masked');
  tdMean.addEventListener('click', ()=> tdMean.classList.toggle('revealed'));
  tr.appendChild(tdCode); tr.appendChild(tdMean);
  return tr;
}

function render(){
  tbody.innerHTML = '';
  const rows = DATA.filter(matches);
  countEl.textContent = rows.length + ' codes';
  for(const r of rows){
    tbody.appendChild(buildRow(r));
  }
}

function setFiltersUI(activeId){
  for(const id of ['filterAll','filterG','filterM']){
    const el = document.getElementById(id);
    el.classList.toggle('is-on', id===activeId);
  }
}

document.getElementById('filterAll').addEventListener('click', ()=>{ filterType='all'; setFiltersUI('filterAll'); render(); });
document.getElementById('filterG').addEventListener('click',  ()=>{ filterType='g';   setFiltersUI('filterG');  render(); });
document.getElementById('filterM').addEventListener('click',  ()=>{ filterType='m';   setFiltersUI('filterM');  render(); });
document.getElementById('search').addEventListener('input', e=>{ searchTerm=(e.target.value||'').toLowerCase().trim(); render(); });

document.getElementById('maskMean').addEventListener('click', e=>{
  maskMean = !maskMean;
  e.currentTarget.classList.toggle('is-on', maskMean);
  e.currentTarget.textContent = maskMean ? 'Hide meanings' : 'Show meanings';
  render();
});

document.getElementById('revealNext').addEventListener('click', ()=>{
  const next = document.querySelector('td.mean.masked:not(.revealed)');
  if(next){ next.classList.add('revealed'); next.scrollIntoView({behavior:'smooth', block:'center'}); }
});

document.getElementById('revealAll').addEventListener('click', ()=>{
  document.querySelectorAll('td.mean.masked').forEach(el=> el.classList.add('revealed'));
});
document.getElementById('reset').addEventListener('click', ()=>{
  document.querySelectorAll('td.mean').forEach(el=> el.classList.remove('revealed'));
});

document.getElementById('shuffle').addEventListener('click', ()=>{
  for(let i = DATA.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [DATA[i], DATA[j]] = [DATA[j], DATA[i]];
  }
  render();
});

// Keyboard hold-to-peek on Space
let spaceDown = false;
document.addEventListener('keydown', e=>{
  if(e.code==='Space' && !spaceDown){ spaceDown=true; document.querySelectorAll('td.mean.masked').forEach(el=> el.classList.add('revealed')); e.preventDefault(); }
});
document.addEventListener('keyup', e=>{
  if(e.code==='Space'){ spaceDown=false; document.querySelectorAll('td.mean.masked').forEach(el=> el.classList.remove('revealed')); }
});

render();
</script>
</body>
</html>
